{
  "name": "SnapIT QR - QR Code Generator",
  "description": "Professional QR code generator with dynamic codes, analytics, and URL shortening",
  "version": "2.0.0",
  "architecture": "Microservices with unified backend",
  "mcpServers": {
    "aws": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-aws"],
      "description": "AWS resource management - Lambda, API Gateway, DynamoDB, S3, CloudFront"
    },
    "github": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-github"],
      "description": "GitHub repository management for snapitqr"
    },
    "playwright": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-playwright"],
      "description": "Browser automation for E2E testing OAuth and QR generation"
    }
  },
  "projectSettings": {
    "type": "Full-stack SaaS",
    "frontend": {
      "framework": "Vanilla JS (React in future)",
      "styling": "Custom CSS (NavyBlue/Hot Pink theme)",
      "location": "frontend/",
      "entryPoint": "frontend/index.html",
      "deployment": "S3 + CloudFront"
    },
    "backend": {
      "framework": "AWS Lambda (Node.js 20.x)",
      "architecture": "Microservices + API Gateway",
      "location": "backend/",
      "deployment": "Serverless Framework",
      "deployCommand": "cd backend && serverless deploy --stage production"
    }
  },
  "directories": {
    "frontend": "frontend/",
    "backend": "backend/",
    "lambdaFunctions": {
      "auth": "backend/auth-operations/",
      "qr": "backend/qr-operations/",
      "url": "backend/url-operations/",
      "stripe": "backend/stripe-operations/",
      "user": "backend/user-operations/",
      "analytics": "backend/analytics-operations/",
      "authorizer": "backend/authorizer/",
      "router": "backend/router/"
    },
    "documentation": "../Docs/",
    "scripts": "../Scripts/",
    "backups": "../snapit-backup-*/"
  },
  "infrastructure": {
    "apiGateway": {
      "id": "hvfj8o1yb0",
      "name": "snapitqr-unified-api",
      "stage": "production",
      "endpoint": "https://hvfj8o1yb0.execute-api.us-east-1.amazonaws.com/production",
      "customDomains": [
        "api.snapitqr.com",
        "api.snapiturl.com"
      ]
    },
    "lambdaFunctions": {
      "auth": "snapitqr-auth-operations",
      "qr": "snapitqr-qr-operations",
      "url": "snapitqr-url-operations",
      "stripe": "snapitqr-stripe-operations",
      "user": "snapitqr-user-operations",
      "analytics": "snapitqr-analytics-operations",
      "authorizer": "snapitqr-authorizer",
      "router": "snapitqr-router"
    },
    "dynamoDBTables": [
      "snapitqr-users",
      "snapitqr-qrcodes",
      "snapitqr-shorturls",
      "snapitqr-analytics",
      "snapitqr-apikeys",
      "snapitqr-ratelimits"
    ],
    "s3Buckets": {
      "frontend": "snapitqr.com",
      "assets": "snapitqr-assets"
    },
    "cloudfrontDistributions": {
      "snapitqr": "${ssm:/snapitqr/cloudfront-distribution-id}",
      "snapiturl": "${ssm:/snapiturl/cloudfront-distribution-id}"
    },
    "ssmParameters": [
      "/snapitqr/jwt-secret",
      "/snapitqr/google-client-id",
      "/snapitqr/google-client-secret",
      "/snapitqr/stripe-secret-key",
      "/snapitqr/stripe-webhook-secret",
      "/snapitqr/stripe-publishable-key"
    ]
  },
  "features": {
    "qrCodes": {
      "static": {
        "enabled": true,
        "requiresAuth": false,
        "limits": "unlimited"
      },
      "dynamic": {
        "enabled": true,
        "requiresAuth": true,
        "limits": {
          "free": 3,
          "starter": 50,
          "pro": 500,
          "business": 5000
        }
      },
      "customization": {
        "colors": true,
        "logo": true,
        "patterns": true,
        "frames": true
      }
    },
    "urlShortening": {
      "enabled": true,
      "requiresAuth": true,
      "limits": {
        "free": 100,
        "starter": 1000,
        "pro": 10000,
        "business": 100000
      },
      "customDomains": {
        "enabled": true,
        "requiredTier": "pro"
      }
    },
    "authentication": {
      "provider": "Google OAuth 2.0",
      "tokenType": "JWT",
      "sessionStorage": "localStorage"
    },
    "analytics": {
      "enabled": true,
      "clickTracking": true,
      "scanTracking": true,
      "retention": {
        "free": "7 days",
        "starter": "30 days",
        "pro": "1 year",
        "business": "unlimited"
      }
    },
    "dashboard": {
      "enabled": true,
      "features": [
        "List all links and QR codes",
        "Show expiration dates",
        "Display click counts per day",
        "Analytics charts",
        "Usage limits tracking"
      ]
    },
    "billing": {
      "provider": "Stripe",
      "mode": "live",
      "productId": "prod_TDYUkZeMJTbFaX",
      "tiers": {
        "free": {
          "price": 0,
          "features": "Unlimited static QR, 100 URLs/mo, 3 dynamic QR, 7 days analytics"
        },
        "starter": {
          "monthly": 4.99,
          "yearly": 49.99,
          "features": "1K URLs/mo, 50 dynamic QR, 30 days analytics, 1 custom domain"
        },
        "pro": {
          "monthly": 14.99,
          "yearly": 149.99,
          "features": "10K URLs/mo, 500 dynamic QR, 1 year analytics, unlimited domains, 5 team members, API access"
        },
        "business": {
          "monthly": 29.99,
          "yearly": 299.99,
          "features": "100K URLs/mo, 5K dynamic QR, unlimited analytics, unlimited everything"
        }
      }
    }
  },
  "apis": {
    "baseUrls": {
      "primary": "https://api.snapitqr.com",
      "alternate": "https://api.snapiturl.com",
      "direct": "https://hvfj8o1yb0.execute-api.us-east-1.amazonaws.com/production"
    },
    "endpoints": {
      "auth": {
        "googleAuth": "POST /auth/google",
        "getCurrentUser": "GET /auth/me"
      },
      "qr": {
        "generate": "POST /qr/generate",
        "list": "GET /qr/list",
        "update": "PUT /qr/{id}",
        "delete": "DELETE /qr/{id}"
      },
      "url": {
        "shorten": "POST /url/shorten",
        "list": "GET /url/list",
        "update": "PUT /url/{id}",
        "delete": "DELETE /url/{id}"
      },
      "user": {
        "profile": "GET /user/profile",
        "updateProfile": "PUT /user/profile",
        "usage": "GET /user/usage"
      },
      "analytics": {
        "dashboardData": "GET /dashboard-data",
        "linkAnalytics": "GET /analytics/{id}"
      },
      "stripe": {
        "createCheckout": "POST /stripe/create-checkout",
        "customerPortal": "POST /stripe/portal",
        "webhook": "POST /stripe/webhook"
      }
    }
  },
  "deployment": {
    "environments": {
      "development": {
        "frontend": "Local file:// or localhost",
        "backend": "AWS dev stage",
        "branch": "develop"
      },
      "production": {
        "frontend": {
          "url": "https://snapitqr.com",
          "branch": "production",
          "deployCommand": "cd /mnt/c/Users/decry/Desktop && ./deploy-safely.sh qr"
        },
        "backend": {
          "branch": "production",
          "deployCommand": "cd backend && serverless deploy --stage production"
        }
      }
    },
    "safetyProtocols": {
      "checkCoordination": "tail -20 ../agent-coordination.log",
      "preDeployCheck": "../pre-deploy-check.sh",
      "deployScript": "../deploy-safely.sh",
      "recoveryScript": "../recover-production.sh",
      "backupBeforeDeploy": true
    }
  },
  "coordination": {
    "multiAgentSetup": true,
    "coordinationLog": "../agent-coordination.log",
    "statusDocuments": [
      "../MASTER-COORDINATION-STATUS.md",
      "../AGENT-STATUS-SUMMARY-OCT11.md",
      "../COORDINATION-HANDOFF-TO-OTHER-AGENT.md",
      "../WHATS-MISSING-CHECKLIST.md",
      "../HOW-EVERYTHING-WORKS-GUIDE.md",
      "../FIXED-SYSTEM-STATUS-OCT11.md"
    ],
    "protocol": "Always log actions to agent-coordination.log, check log before deploying, never force push to production"
  },
  "testing": {
    "userFlows": [
      "Static QR generation (no auth)",
      "Google sign-in → JWT token",
      "Dynamic QR generation (with auth)",
      "URL shortening (with auth)",
      "Dashboard view (usage, links, analytics)",
      "Tier limits enforcement",
      "Stripe checkout → Subscription upgrade",
      "Analytics tracking (clicks/scans)"
    ],
    "endpoints": [
      "curl https://api.snapitqr.com/auth/google",
      "curl https://api.snapitqr.com/qr/generate -H 'Authorization: Bearer TOKEN'",
      "curl https://api.snapitqr.com/url/shorten -H 'Authorization: Bearer TOKEN'"
    ]
  },
  "documentation": {
    "readme": "README.md",
    "architecture": "../HOW-EVERYTHING-WORKS-GUIDE.md",
    "deployment": "../MASTER-COORDINATION-STATUS.md",
    "apiDocs": "../Docs/",
    "coordination": "../COORDINATION-HANDOFF-TO-OTHER-AGENT.md"
  },
  "knownIssues": {
    "highPriority": [
      "Dashboard functionality needs implementation (list links, click counts, charts)",
      "Click tracking system needs implementation",
      "Google OAuth end-to-end testing needed",
      "Stripe webhook configuration needed"
    ],
    "mediumPriority": [
      "Rate limiting enforcement testing",
      "CloudWatch monitoring setup",
      "Analytics aggregation (daily/weekly/monthly)"
    ],
    "lowPriority": [
      "Custom domain support for users",
      "API key generation for Pro/Business",
      "Team collaboration features"
    ]
  },
  "relatedProjects": {
    "snapiturl": {
      "path": "../snapiturl/",
      "relationship": "Shares same backend API, different frontend branding"
    },
    "snapitsoftware": {
      "path": "../snapitsoftware/",
      "relationship": "Marketing site that promotes SnapIT QR and URL services"
    }
  }
}
